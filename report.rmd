---
title: "Relatório Meninas na Computação"
author:
- Alexandre Augusto
- Amanda Oliveira
- Rodrigo Chaves
output:
  html_document:
    theme: united
    toc: yes
  pdf_document:
    latex_engine: xelatex
    template: ./eisvogel.tex
---

# Objetivo

Utilizar os dados disponíveis e a linguagem R para tentar encontrar fatores que tenham correlação e/ou influência quando 
meninas decidem qual curso superior querem fazer e se vão ou não fazer um curso na área
de computação.

# Introdução

Durante os anos de 2011 até 2014, a Professora Marístela de Holando aplicou um formulário 
buscando encontrar fatores que são impactantes quando um menina quer escolher um curso
de computação. Isso foi motivado pelo fato de que o número de meninas que ingressão 
nos cursos dessa área é muito menor do que a quantidade de meninos que buscam cursar os mesmos 
cursos.

O professor Vinícius Borges disponibilizou uma planilha de dados de uma pesquisa 
realizada de 2011 a 2014 na Semana Nacional de Ciência e Tecnologia (SNCT) em Brasília e tal 
pesquisa buscava descobrir um pouco mais sobre as meninas do ensino médio de Brasília e 
por que o baixo nível de interesse nas áreas de Computação.

O trabalho consistirá em transformar e carregar os dados (o processo de extração foi 
previamente feito). A partir das informações, espera-se obter um insight sobre a atual situação 
das mulheres na computação.

# Pacotes usados

```{r results="hide", message=FALSE}
require(dplyr)
require(ggplot2)
require(Rmisc)
```

# Limpeza dos Dados

Inicialmente, os Data Frames possuem as seguintes informações armazenadas, sendo a principal distinção entre os dois é que o numericworkingdata contém em vez de texto todas as informações em formato numérico  para facilitar a utilização para previsões.

```{r import data,}
workingdata <- read.csv("data.csv", header = TRUE, stringsAsFactors=TRUE)
numericworkingdata <- read.csv("data.csv", header = TRUE, stringsAsFactors=FALSE)
names(workingdata)
```

Primeiro passo, sabe-se que os alunos que responderam os questinários colocaram seu "Gênero".

```{r check genders}
workingdata %>%
  group_by(Gender) %>%
  dplyr::summarize(total = n())
```

Como é possível notar, há a presença de 13 meninos e 14 pessoas não informaram o sexo, 
portanto, essas 27 pessoas devem ser removidas da análise.

```{r get only females}
workingdata <- workingdata[workingdata$Gender == 'F',]
numericworkingdata <- numericworkingdata[numericworkingdata$Gender == 'F',]
```

Atualmente os dados encontram-se em sua maioria em formato de string, tendo como respostas "Yes", "No" e "Maybe". Para que se torne mais fácil de manipular, iremos transformar tais strings em zeros ("No"), uns ("Yes") e dois ("Maybe").

```{r change yes maybe no}
numericworkingdata[,5:38][numericworkingdata[,5:38] == "No"] = 0
numericworkingdata[,5:38][numericworkingdata[,5:38] == "Yes"] = 1
numericworkingdata[,5:38][numericworkingdata[,5:38] == "Maybe"] = 2
```

Os campos de interesse constituem basicamente de "Human Sciences", "Biology-Health Sciences"
e "Exact Sciences", nomes relativamente grandes, portanto abreviaremos para 0, 1 e 2 respectivamente.

```{r change field of interest}
numericworkingdata$Field.Of.Interest[numericworkingdata$Field.Of.Interest == "Human Sciences"] = 0
numericworkingdata$Field.Of.Interest[numericworkingdata$Field.Of.Interest == "Biology-Health Sciences"] = 1
numericworkingdata$Field.Of.Interest[numericworkingdata$Field.Of.Interest == "Exact Sciences"] = 2
```
 
Uma vez transformadas as informações, elas serão convertidas em fatores para melhor manipulá-las.

```{r change to factors}
cols <- c(4,5,8:38)
numericworkingdata[cols] <- lapply(numericworkingdata[cols], factor)
```

# Análise exploratória

Agora que o dado encontra-se bem formatado, é possível explorá-lo com maior facilidade.

Como é possível notar, enquanto a maior parte das garotas encontra-se entre o não e o talvez, o grupo que entraria na ciência da computação é bem diverso, tendo em sua maioria mulheres interessadas na área de biologia e não em exatas como se esperaria.
```{r echo=FALSE, warning=FALSE}
ggplot(workingdata, aes(x = Would.Enroll.In.CS, fill=Field.Of.Interest)) +
  geom_histogram(stat = "count")
```
```{r warning=FALSE, echo=FALSE}

table(workingdata$Field.Of.Interest[workingdata$Would.Enroll.In.CS == "Yes"])
```

A proporção de interessadas em biologia é consideravelmente maior do que o resto, o que explica o fato de haver tantas mulheres de biologia interessadas em ciência da computação, elas dominam todas as respostas (sim, não e talvez). E de acordo com o gráfico abaixo, que usa proporção em vez de quantidade, tal raciocínio é bem próximo da realidade.

```{r echo=FALSE, warning=FALSE}
ggplot(workingdata, aes(x = Would.Enroll.In.CS, fill=Field.Of.Interest)) +
  geom_histogram(stat = "count", position="fill")
```

De acordo com o histograma, Biologia manteve-se próxima em porcentagem em quase todas as respostas  enquanto humanas diminuiu e exatas aumentou na resposta afirmativa, o que condiz com a área de interesse.



Em se tratando de quantidade de mulheres que responderam a enquete há um predomínio das que estão no ensino médio. Conforme a escolaridade aumenta, menor é o interesse em exatas, um fenômeno que aponta que a presença feminina está afetada não só na computação.

```{r warning=FALSE, echo=FALSE}
ggplot(workingdata, aes(x=Educational.Stage, fill=Field.Of.Interest)) +
  labs(title="Histogram for Educational Stage", x = "Educational Stage", y = "Count", fill="Field of Interest") +
  geom_histogram(stat="count")
```
```{r warning=FALSE, echo=FALSE}
ggplot(workingdata, aes(x=Educational.Stage, fill=Field.Of.Interest)) +
  labs(title="Histogram for Educational Stage proportionally", x="Educational Stage", y="Count", fill="Field of Interest") +
  geom_histogram(stat="count", position = "fill")
```

Como há abundância de questões, resolveu-se pegar as que provavelmente mais influenciarão na decisão de seguir carreira na área de CS. As perguntas selecionadas foram as seguintes: 
```{r}
perguntas_selecionadas = c("Most.CS.Students.Are.Male", "CS.Requires.Knowledge.In.Computers", "Family.Approves.CS.Major", "CS.Has.Low.Employability", "CS.Work.Has.Long.Hours", "CS.Is.Prestigious", "CS.Provides.Good.Wages", "Uses.Computer.At.Home", "Has.Used.Database", "Has.Used.For.Creating.Web.Pages", "Has.Used.For.Development")
```

```{r warning=FALSE, echo=FALSE}

g1 <- ggplot(workingdata, aes(x=Most.CS.Students.Are.Male, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Most CS Students Are Male", fill="Would Enroll In CS", y="Count")
g13 <- ggplot(workingdata, aes(x=Most.CS.Students.Are.Male, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Most CS Students Are Male", fill="Would Enroll In CS", y="Count")

g2 <- ggplot(workingdata, aes(x=CS.Requires.Knowledge.In.Computers, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="CS Requires Knowledge", fill="Would Enroll In CS", y="Count")
g14 <- ggplot(workingdata, aes(x=CS.Requires.Knowledge.In.Computers, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="CS Requires Knowledge", fill="Would Enroll In CS", y="Count")

g3 <- ggplot(workingdata, aes(x=Family.Approves.CS.Major, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Family Approves CS Major", fill="Would Enroll In CS", y="Count")
g15 <- ggplot(workingdata, aes(x=Family.Approves.CS.Major, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Family Approves CS Major", fill="Would Enroll In CS", y="Count")

g4 <- ggplot(workingdata, aes(x=CS.Work.Has.Long.Hours, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="CS Work Has Long Hours", fill="Would Enroll In CS", y="Count")
g16 <- ggplot(workingdata, aes(x=CS.Work.Has.Long.Hours, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="CS Work Has Long Hours", fill="Would Enroll In CS", y="Count")

g5 <- ggplot(workingdata, aes(x=CS.Has.Low.Employability, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="CS Has Low Employability", fill="Would Enroll In CS", y="Count")
g17 <- ggplot(workingdata, aes(x=CS.Has.Low.Employability, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="CS Has Low Employability", fill="Would Enroll In CS", y="Count")

g6 <- ggplot(workingdata, aes(x=CS.Is.Prestigious, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="CS Is Prestigious", fill="Would Enroll In CS", y="Count")
g18 <- ggplot(workingdata, aes(x=CS.Is.Prestigious, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="CS Is Prestigious", fill="Would Enroll In CS", y="Count")

g7 <- ggplot(workingdata, aes(x=CS.Provides.Good.Wages, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="CS Provides Good Wages", fill="Would Enroll In CS", y="Count")
g19 <- ggplot(workingdata, aes(x=CS.Provides.Good.Wages, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="CS Provides Good Wages", fill="Would Enroll In CS", y="Count")

g8 <- ggplot(workingdata, aes(x=Uses.Computer.At.Home, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Uses Computer At Home", fill="Would Enroll In CS", y="Count")
g20 <- ggplot(workingdata, aes(x=Uses.Computer.At.Home, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Uses Computer At Home", fill="Would Enroll In CS", y="Count")

g9 <- ggplot(workingdata, aes(x=Has.Used.Database, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Has Used Database", fill="Would Enroll In CS", y="Count")
g21 <- ggplot(workingdata, aes(x=Has.Used.Database, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Has Used Database", fill="Would Enroll In CS", y="Count")

g10 <- ggplot(workingdata, aes(x=Has.Used.For.Creating.Web.Pages, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Has Used For Creating Web Pages", fill="Would Enroll In CS", y="Count")
g22 <- ggplot(workingdata, aes(x=Has.Used.For.Creating.Web.Pages, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Has Used For Creating Web Pages", fill="Would Enroll In CS", y="Count")

g11 <- ggplot(workingdata, aes(x=Has.Used.For.Development, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Has Used For Creating Web Pages", fill="Would Enroll In CS", y="Count")
g23 <- ggplot(workingdata, aes(x=Has.Used.For.Development, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Has Used For Creating Web Pages", fill="Would Enroll In CS", y="Count")

g12 <- ggplot(workingdata, aes(x=Has.Used.For.Development, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count") +
  labs(x="Has Used For Development", fill="Would Enroll In CS", y="Count")
g24 <- ggplot(workingdata, aes(x=Has.Used.For.Development, fill=Would.Enroll.In.CS)) +
  geom_histogram(stat="count", position = "fill") +
  labs(x="Has Used For Development", fill="Would Enroll In CS", y="Count")

```

```{r warning=FALSE, echo=FALSE}
multiplot(g1,g2,g3,g4,g13,g14,g15,g16, cols=2)

```

```{r warning=FALSE, echo=FALSE}
multiplot(g5,g6,g7,g8,g17,g18,g19,g20, cols = 2)
```

```{r warning=FALSE, echo=FALSE}
multiplot(g9,g10,g11,g12,g21,g22,g23,g24, cols = 2)
```
** Verificar possíveis associações para a parte seguinte



# Predição

Para o próximo passo, tentaremos prever a área de interesse usando as respostas dadas às ultimas perguntas, além de verificar qual pergunta é mais pertinente à previsão da área de interesse.

# Conclusão

** Comentar sobre os dados da análise
** Comentar sobre a predição
** Comentar sobre a impossibilidade de saber se as estudantes foram ou não para CIC

